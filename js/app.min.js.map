{"version":3,"sources":["app.js"],"names":["console","log","Thumbnail","element","this","src","getImageSrc","dataID","getDataId","imageData","getImageData","assignClickFunctions","prototype","getElementsByTagName","dataset","revealId","container","srcset","alt","document","getElementById","imageContainer","getElementsByClassName","length","imageElements","hasAttribute","imageSrc","imageSrcset","imageAlt","addSelectListener","showLightbox","type","func","addEventListener","bind","lightboxContainer","photobox","img","revealModalBg","closeButton","hideLightbox","style","display","innerHTML","evt","preventDefault","thumbnailsCollection","thumbnails","i","push"],"mappings":"AAIAA,QAAQC,IAAI,mBAEZ,IAAIC,WAAY,SAAUC,GACtBC,KAAKD,QAAUA,EACfC,KAAKC,IAAMD,KAAKE,cAChBF,KAAKG,OAASH,KAAKI,YACnBJ,KAAKK,UAAYL,KAAKM,eACtBN,KAAKO,uBAGTT,WAAUU,UAAUN,YAAc,WAC9B,MAAOF,MAAKD,QAAQU,qBAAqB,OAAO,GAAGR,KAGvDH,UAAUU,UAAUJ,UAAY,WAC5B,MAAOJ,MAAKD,QAAQU,qBAAqB,KAAK,GAAGC,QAAQC,UAG7Db,UAAUU,UAAUF,aAAe,WAE/B,GAAID,IACAO,UAAW,GACXX,IAAK,GACLY,OAAQ,GACRC,IAAK,GAET,KAAIC,SAASC,eAAehB,KAAKG,QAK7B,MADAP,SAAQC,IAAI,mCAAqCG,KAAKG,OAAS,UACxD,IAJP,IAAIc,GAAiBF,SAASC,eAAehB,KAAKG,OAMtD,IALIE,EAAUO,UAAYK,IAKtBA,EAAeC,uBAAuB,aAAaC,OAAS,GAI5D,MADAvB,SAAQC,IAAI,kBAAoBG,KAAKG,OAAS,qDACvC,IAHP,IAAIiB,GAAgBH,EAAeC,uBAAuB,YAK9D,KAAIE,EAAc,GAAGC,aAAa,YAK9B,MADAzB,SAAQC,IAAI,2DACL,IAJP,IAAIyB,GAAWF,EAAc,GAAGV,QAAQT,GAM5C,IALII,EAAUJ,IAAMqB,EAKhBF,EAAc,GAAGC,aAAa,eAAgB,CAC9C,GAAIE,GAAcH,EAAc,GAAGV,QAAQG,MAC3CR,GAAUQ,OAASU,EAEvB,GAAIH,EAAc,GAAGC,aAAa,YAAa,CAC3C,GAAIG,GAAWJ,EAAc,GAAGV,QAAQI,GACxCT,GAAUS,IAAMU,EAEpB,MAAOnB,IAGXP,UAAUU,UAAUD,qBAAuB,WACvCP,KAAKyB,kBAAkBzB,KAAKD,QAAS,QAASC,KAAK0B,eAGvD5B,UAAUU,UAAUiB,kBAAoB,SAAU1B,EAAS4B,EAAMC,GAC7D7B,EAAQ8B,iBAAiBF,EAAMC,EAAKE,KAAK9B,QAG7CF,UAAUU,UAAUkB,aAAe,WAC/B,GAAI1B,KAAKK,UAAUO,UAAW,CAC1B,GAAImB,GAAoB/B,KAAKK,UAAUO,UACnCoB,EAAWD,EAAkBb,uBAAuB,YAAY,GAChEe,EAAM,aAAgBjC,KAAKK,UAAUJ,IAAM,KAC3CiC,EAAgBnB,SAASC,eAAe,wBACxCmB,EAAcJ,EAAkBb,uBAAuB,sBAAsB,EACjFlB,MAAKyB,kBAAkBU,EAAa,QAASnC,KAAKoC,cAClDF,EAAcG,MAAMC,QAAU,QAC9BP,EAAkBM,MAAMC,QAAU,QAClCN,EAASO,UAAYN,EACrBrC,QAAQC,IAAIkC,EAAkBb,uBAAuB,sBAAsB,MAInFpB,UAAUU,UAAU4B,aAAe,SAAUI,GACzCA,EAAIC,gBACJ,IAAIV,GAAoB/B,KAAKK,UAAUO,UACnCsB,EAAgBnB,SAASC,eAAe,uBAC5CkB,GAAcG,MAAMC,QAAU,OAC9BP,EAAkBM,MAAMC,QAAU,OAMtC,KAAK,GAHDI,yBACAC,WAAa5B,SAASG,uBAAuB,SAExC0B,EAAI,EAAGA,EAAID,WAAWxB,OAAQyB,IACnCF,qBAAqBG,KAAK,GAAI/C,WAAU6C,WAAWC","file":"app.min.js","sourcesContent":["/**\n * Created by ben on 01/01/2017.\n */\n\nconsole.log(\"Lightbox working\");\n\nvar Thumbnail = function (element) {\n    this.element = element;\n    this.src = this.getImageSrc();\n    this.dataID = this.getDataId();\n    this.imageData = this.getImageData();\n    this.assignClickFunctions();\n};\n\nThumbnail.prototype.getImageSrc = function () {\n    return this.element.getElementsByTagName('img')[0].src;\n};\n\nThumbnail.prototype.getDataId = function () {\n    return this.element.getElementsByTagName('a')[0].dataset.revealId;\n};\n\nThumbnail.prototype.getImageData = function () {\n    // Setup object to contain image data\n    var imageData = {\n        container: \"\",\n        src: \"\",\n        srcset: \"\",\n        alt: \"\"\n    };\n    if (document.getElementById(this.dataID)) {\n        var imageContainer = document.getElementById(this.dataID);\n        imageData.container = imageContainer;\n    } else {\n        console.log(\"Error: No element with an id of \" + this.dataID + \" found\");\n        return null;\n    }\n    if (imageContainer.getElementsByClassName(\"photodata\").length > 0) {\n        var imageElements = imageContainer.getElementsByClassName(\"photodata\");\n    } else {\n        console.log(\"Error: Element \" + this.dataID + \" does not contain a div with a class of photodata\");\n        return null;\n    }\n    if (imageElements[0].hasAttribute(\"data-src\")) {\n        var imageSrc = imageElements[0].dataset.src;\n        imageData.src = imageSrc;\n    } else {\n        console.log(\"Error: photodata class does not contain an imgs dataset\");\n        return null;\n    }\n    if (imageElements[0].hasAttribute(\"data-srcset\")) {\n        var imageSrcset = imageElements[0].dataset.srcset;\n        imageData.srcset = imageSrcset;\n    }\n    if (imageElements[0].hasAttribute(\"data-alt\")) {\n        var imageAlt = imageElements[0].dataset.alt;\n        imageData.alt = imageAlt;\n    }\n    return imageData;\n};\n\nThumbnail.prototype.assignClickFunctions = function () {\n    this.addSelectListener(this.element, \"click\", this.showLightbox);\n};\n\nThumbnail.prototype.addSelectListener = function (element, type, func) {\n    element.addEventListener(type, func.bind(this));\n};\n\nThumbnail.prototype.showLightbox = function () {\n    if (this.imageData.container) {\n        var lightboxContainer = this.imageData.container;\n        var photobox = lightboxContainer.getElementsByClassName(\"photoBox\")[0];\n        var img = \"<img src=\\\"\" + this.imageData.src + \"\\\">\";\n        var revealModalBg = document.getElementById(\"reveal-modal-overlay\");\n        var closeButton = lightboxContainer.getElementsByClassName(\"close-reveal-modal\")[0];\n        this.addSelectListener(closeButton, \"click\", this.hideLightbox);\n        revealModalBg.style.display = \"block\";\n        lightboxContainer.style.display = \"block\";\n        photobox.innerHTML = img;\n        console.log(lightboxContainer.getElementsByClassName(\"close-reveal-modal\")[0])\n    }\n};\n\nThumbnail.prototype.hideLightbox = function (evt) {\n    evt.preventDefault();\n    var lightboxContainer = this.imageData.container;\n    var revealModalBg = document.getElementById(\"reveal-modal-overlay\");\n    revealModalBg.style.display = \"none\";\n    lightboxContainer.style.display = \"none\";\n};\n\nvar thumbnailsCollection = [];\nvar thumbnails = document.getElementsByClassName(\"image\");\n\nfor (var i = 0; i < thumbnails.length; i++) {\n    thumbnailsCollection.push(new Thumbnail(thumbnails[i]));\n}"]}